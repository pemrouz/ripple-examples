<script>
  ripple({ name: 'todo-item', body: item })

  function item(d){
    if (!d) return;
    
    once(this, 'input')
      .attr('type', 'checkbox')
      .property('checked', d.completed)
      .on('change', setCompleted)

    once(this, 'label')
      .text(d.item)

    once(this, 'button.destroy')
      .on('click', destroy)

    function setCompleted() {
      d.completed = this.checked
    }

    function destroy() {
      ripple('items')
        .forEach(remove(d))
    }
  }
</script>